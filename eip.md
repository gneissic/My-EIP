# EIP-2000: Yield-Bearing Referral Tokens for Real-World Assets (YBR-RWA)

**Type:** Standards Track  
**Category:** ERC-20
**Created:** 2025-08-25  
**Author:** Nwodoh Joseph
**Requires:** EIP-20, EIP-721, EIP-4626

## Abstract

This EIP proposes a standard for Yield-Bearing Referral Tokens (YBR-RWA), which are specialized tokens representing referrals to real-world assets (RWAs). These tokens are designed to accrue yield over time based on the performance or revenue generated by the referred RWAs. YBR-RWA tokens can be seamlessly integrated with ERC-4626 tokenized vaults, allowing them to be deposited into vaults where they contribute to the vault's overall yield generation. The standard combines elements of ERC-721 for unique referral tracking (as referrals are often unique) with yield-accrual mechanisms inspired by ERC-4626, enabling holders or vaults to earn passive income from RWA referrals.

## Motivation

Real-world assets (RWAs) such as real estate, commodities, or financial instruments are increasingly tokenized on Ethereum. Referral programs for RWAs can incentivize user acquisition and participation, but existing token standards lack built-in yield-bearing features tied to RWA performance. ERC-4626 provides a robust framework for yield-generating vaults, but it does not natively support referral-based tokens that can be distributed to these vaults to enhance their yield.

YBR-RWA addresses this by:

- Creating unique, traceable referral tokens that represent a claim on RWA yield.
- Allowing these tokens to be deposited into ERC-4626 vaults, where they automatically accrue yield for the vault's shareholders.
- Enabling decentralized referral economies for RWAs, where referrers earn ongoing yield without centralized intermediaries.

This standard promotes interoperability between referral systems, RWAs, and DeFi vaults, fostering innovation in tokenized asset ecosystems.

## Specification

The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119.

### Token Interface

YBR-RWA tokens MUST implement the ERC-721 interface for uniqueness and metadata (since referrals are typically non-fungible), with additional yield-bearing extensions. They MAY optionally support ERC-1155 for semi-fungible batches of referrals.

The core interface extends ERC-721 with yield-related functions:

```solidity
// SPDX-License-Identifier: CC0-1.0
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC721/IERC721.sol";
import "@openzeppelin/contracts/token/ERC4626/IERC4626.sol";

interface IYBRRWA is IERC721 {
    /**
     * @dev Emitted when yield is accrued for a token.
     * @param tokenId The ID of the referral token.
     * @param yieldAmount The amount of yield accrued (in the underlying asset's units).
     */
    event YieldAccrued(uint256 indexed tokenId, uint256 yieldAmount);

    /**
     * @dev Emitted when a token is deposited into an ERC-4626 vault.
     * @param tokenId The ID of the referral token.
     * @param vault The address of the ERC-4626 vault.
     */
    event DepositedToVault(uint256 indexed tokenId, address vault);

    /**
     * @dev Returns the current accrued yield for a specific token.
     * @param tokenId The ID of the referral token.
     * @return The accrued yield amount.
     */
    function getAccruedYield(uint256 tokenId) external view returns (uint256);

    /**
     * @dev Claims the accrued yield for a token. Yield is transferred to the caller (must be owner or approved).
     * @param tokenId The ID of the referral token.
     * @return The claimed yield amount.
     */
    function claimYield(uint256 tokenId) external returns (uint256);

    /**
     * @dev Deposits the token into an ERC-4626 compatible vault. The token MUST be approved for transfer.
     *      Upon deposit, the token's yield accrual is redirected to the vault's shares.
     * @param tokenId The ID of the referral token.
     * @param vault The address of the ERC-4626 vault.
     */
    function depositToVault(uint256 tokenId, address vault) external;

    /**
     * @dev Returns the underlying RWA asset address associated with the referral.
     * @param tokenId The ID of the referral token.
     * @return The address of the RWA token (ERC-20 compatible).
     */
    function getUnderlyingAsset(uint256 tokenId) external view returns (address);

    /**
     * @dev Returns the referral metadata, including the referred entity and yield parameters.
     * @param tokenId The ID of the referral token.
     * @return metadata A string or struct containing referral details (e.g., JSON-encoded).
     */
    function getReferralMetadata(uint256 tokenId) external view returns (string memory);
}
```

### Yield Accrual Mechanism

- **Accrual Logic**: Yield MUST accrue based on the performance of the associated RWA. Implementations MAY use oracles (e.g., Chainlink) to fetch RWA yield data (e.g., rental income from real estate). Accrual SHOULD be calculated on-chain via a time-weighted or event-driven model.
- **Integration with ERC-4626**: When deposited via `depositToVault`, the token's ownership is transferred to the vault. The vault MUST treat the YBR-RWA as an asset that generates yield, similar to depositing an underlying token. The vault's `totalAssets()` and `convertToShares()` functions SHOULD account for the accrued yield from all deposited YBR-RWA tokens.
- **Claiming Yield**: Yield can be claimed by the token owner (or vault if deposited). If deposited, the vault MAY automatically compound or distribute yield to shareholders.

### Metadata

Tokens MUST support ERC-721 metadata extensions. The `tokenURI` SHOULD return a JSON object including:

- `referral_id`: Unique identifier for the referral.
- `rwa_description`: Description of the real-world asset.
- `yield_rate`: Expected annual yield percentage (informational).
- `referrer`: Address of the original referrer.

### Vault Compatibility

ERC-4626 vaults integrating YBR-RWA MUST:

- Accept YBR-RWA deposits as part of their asset pool.
- Query `getAccruedYield` periodically (e.g., via keepers) to update vault balances.
- Handle withdrawals by returning the YBR-RWA token plus any claimed yield.

## Rationale

- **Non-Fungible Base**: Referrals are unique (e.g., one user referring another to a specific property), justifying ERC-721. For batch referrals, ERC-1155 can be extended.
- **Yield Integration**: Drawing from ERC-4626 ensures composability with DeFi vaults, allowing referral tokens to "earn for the vault" as described.
- **Security and Simplicity**: Functions like `claimYield` and `depositToVault` are restricted to owners/approved operators to prevent unauthorized access.
- Alternatives Considered: A pure ERC-20 fungible token was dismissed as it wouldn't capture unique referral tracking. Extending ERC-4626 directly was avoided to keep the standard focused on referrals.

## Backwards Compatibility

This standard is compatible with existing ERC-721 and ERC-4626 implementations. No breaking changes to core Ethereum standards.
